---
import FormattierterText from "./FormattierterText.astro";

interface Props {
  titles: any[];
  rows: any[];
}

const { titles, rows } = Astro.props;
---

<div class="table-container">
  <table class="table is-hoverable is-bordered">
    <thead>
      {
        titles.map((title: any) => {
          return (
            <tr>
              <th colspan="2" class="has-text-centered">
                <FormattierterText content={title.FormattierterText} />
              </th>
            </tr>
          );
        })
      }
    </thead>
    <tbody>
      {
        rows.map((row: any) => {
          const cells = row.Tabellenzellen as any[];

          return cells.map((cell: any, i: number) => {
            return (
              <tr>
                {i === 0 ? (
                  <td rowspan={cells.length} style="vertical-align: middle;">
                    <h6 class="title is-6">{row.Zeilentitel}</h6>
                  </td>
                ) : null}
                <td>
                  <p>{cell.Tabellenzeile}</p>
                </td>
              </tr>
            );
          });
        })
      }
    </tbody>
  </table>
</div>
